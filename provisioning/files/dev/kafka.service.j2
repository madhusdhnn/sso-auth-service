[Unit]
Description=Kafka Daemon
After=zookeeper.service

[Service]
Type=simple
User={{kafka_user}}
Group={{kafka_group}}
LimitNOFILE=32768
Restart=on-failure
Environment="KAFKA_HEAP_OPTS={{ kafka_heap_opts }}"
Environment="KAFKA_OPTS={{ kafka_opts }}"
Environment="KAFKA_JMX_OPTS={{ kafka_jmx_opts }}"
ExecStart=/opt/kafka/bin/kafka-server-start.sh /etc/kafka/server.properties

[Install]
WantedBy=multi-user.target